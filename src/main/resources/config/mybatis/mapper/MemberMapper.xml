<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.izo.camp.mapper.MemberMapper">

	<!-- 테이블 목록조회 -->
	<select id="memberlist">
		select * from membertable
	</select>
	
	<!-- 이름, 생일 일치하는 idx 반환 -->
	<select id="memberIdx" resultType="int" parameterType="memberVO">
		select nvl(idx, 0) from membertable right outer join dual on name=#{name} and birth=#{birth}
	</select>
	
	<!-- 아이디, 비번 일치하는 idx 반환 -->
	<select id="memberIdxFromId" resultType="int" parameterType="memberVO">
		select nvl(idx, 0) from membertable right outer join dual on id=#{id} and pwd=#{pwd}
	</select>
	
	<!-- 회원정보 추가하기 -->
	<insert id="insertInfo" parameterType="memberVO">
		insert into membertable values(
			idx=seq_member.nextval,
			id=#{id},
			pwd=#{pwd},
			name=#{name},
			gender=#{gender},
			email=#{email},
			hometel=#{hometel},
			mobiletel=#{mobiletel},
			addr=#{addr},
			birth=#{birth}
			)
	</insert>
		
</mapper>












